---
id: hooks-intro
title: معرفی هوک‌ها
permalink: docs/hooks-intro.html
next: hooks-overview.html
---

*هوک‌ها* قابلیت جدیدی هستند که به نسخه ۱۶.۸ اضافه شده‌اند. با استفاده از آن‌ها می‌توانید بدون نوشتن کلاس، از state و دیگر ویژگی‌های ری‌اکت استفاده کنید.

```js{4,5}
import React, { useState } from 'react';

function Example() {
  // Declare a new state variable, which we'll call "count"
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>
        Click me
      </button>
    </div>
  );
}
```

تابع جدید `useState` اولین هوکی است که آن را یاد می‌گیریم. اگر آن را درک نمی‌کنید، نگران نباشید چون این مثال فقط برای آشنایی اولیه آورده شده‌است.

در این صفحه ما درباره این‌که چرا هوک‌ها را به ری‌اکت اضافه کردیم و چگونه با استفاده از آن‌ها می توان برنامه‌های بسیار خوبی ساخت، صحبت می‌کنیم. **پس اگر می‌خواهید استفاده از هوک‌ها را یاد بگیرید، مستقیم به [صفحه بعد](/docs/hooks-overview.html) بروید.**

> نکته
> ری‌‌اکت ۱۶.۸.۰ اولین نسخه منتشر شده است که از هوک‌‌ها پشتیبانی می‌‌کند. هنگام ارتقاع، فراموش نکنید همه‌‌ی پکیج‌‌ها شامل React DOM را به‌روز رسانی نمایید. هوک‌ها به نسخه‌‌ی پایدار بعدی ری‌اکت نیتیو نیز اضافه خواهدشد.

## معرفی تصویری {#video-introduction}

در کنفرانس ری‌اکت ۲۰۱۸، سوفی آلپرت (Sophie Alpert) و دن آبراموف (Dan Abramov) هوک‌ها را معرفی کردند. و در ادامه رایان فلورنس (Ryan Florence) نشان داد که چگونه می‌توان یک برنامه را بازنویسی کرد که از هوک‌ها استفاده کند. ویدیو آن را مشاهده کنید:

<iframe width="650" height="366" src="//www.youtube.com/embed/dpw9EHDh2bM" frameborder="0" allowfullscreen></iframe>

## بدون تغییرات مخرب {#no-breaking-changes}

قبل از ادامه، توجه داشته‌باشید که هوک‌ها:
* **کاملا اختیاری.** شما می‌‌توانید هوک‌‌ها را بدون نیاز به دوباره نوشتن کدهای قبلی، در چند کامپوننت جدید امتحان کنید. اما مجبور نیستید که حالا هوک‌ها را یاد بگیرید اگر تمایلی به فراگیری آن ندارید.
* **۱۰۰٪ سازگار با کد‌های قدیمی**. هوک‌ها تغییرات مخربی ندارند و باعث از کار افتادن دیگر قسمت‌ها نخواهند شد.
* **قابل استفاده از همین حالا**. هوک‌ها هم‌اکنون ابا انتشار نسخه‌‌ی ۱۶.۸.۰ قابل استفاده هستند.

**هیچ برنامه‌‌ای برای حذف کلاس‌‌ها از ری‌‌اکت وجود ندارد.** شما می‌‌توانید برای مطالعه‌‌ی بیشتر در رابطه با راهکار‌‌‌‌های تطبیق تدریجی با هوک‌‌ها از [بخش پایین](#gradual-adoption-strategy) همین صفحه استفاده کنید.


هوک‌ها جایگزین برای دانش شما از مفاهیم ری‌اکت نخواهند شد. در عوض هوک‌ها یک رابط (API) مستقیم برای مفاهیم ری‌‌اکتی که از قبل می‌‌دانید مانند props، state، context، refs و چرخه حیات فراهم می‌‌کنند. همچنین بعدا نشان خواهیم داد که چگونه هوک‌‌ها روشی جدید و قدرتمند برای تلفیق آن‌‌ها ارائه می‌‌کنند.

<p dir="rtl"><strong>اگر هم‌‌اکنون می‌‌خواهید یادگیری هوک‌‌ها را شروع کنید، <a href="/docs/hooks-overview.html">مستقیم به صفحه‌‌ی بعد بروید!</a></strong> البته می‌‌توانید مطالعه‌‌ی این صفحه را ادامه دهید و با دلایلی که هوک‌‌ها را به ری‌‌اکت اضافه کردیم و اینکه چگونه بدون بازنویسی اپلیکیشن‌‌های قبلی از آن‌‌ها استفاده خواهیم کرد، آشنا شوید.</p>

<h2 dir="rtl" id="motivation"><a href="#motivation" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>انگیزه</h2>

<h3 dir="rtl" id="its-hard-to-reuse-stateful-logic-between-components"><a href="#its-hard-to-reuse-stateful-logic-between-components" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>استفاده‌‌ی مجدد از منطق دارای state در بین کامپوننت‌‌ها دشوار است</h3>

<p dir="rtl">ری‌‌اکت راهی برای «اضافه‌کردن» یک رفتار  قابل استفاده‌‌ی مجدد یه یک کامپوننت را فراهم نمی‌‌کند (برای مثال اتصال به یک store). اگر شما مدتی با ری‌‌اکت کار کرده باشید، ممکن است با الگوهایی مانند <a href="/docs/render-props.html">render props</a> و <a href="/docs/higher-order-components.html">higher-order components</a> آشنا باشید که سعی در حل این مسیله دارند.  اما این الگوها شما را مجبور به تغییر ساختار مجدد کامپوننتتان هنگام استفاده‌‌ از آن‌‌ها می‌‌کنند، که این مسیله می‌‌تواند مایه‌‌ی زحمت و سخت‌‌تر شدن فهم کد باشد. اگر به یک اپلیکیشن ری‌‌اکت نوعی در React DevTools نگاه کنید، احتمالا با «wrapper hell»ای از کامپوننت‌‌ها مواجه می‌‌شوید. کامپوننت‌‌هایی که با لایه‌‌هایی از providerها، consumerها، HOCها، render props و دیگر کامپوننت‌‌هایی که به تجرید کمک می‌‌کنند، احاطه شده‌‌اند.  در حالی که ما می‌‌توانیم <a href="https://github.com/facebook/react-devtools/pull/503">آن‌‌ها را در DevTools فیلتر کنیم</a>، این [مشکل] به یک مسیله‌‌ی بنیادین اشاره دارد: ری‌‌اکت باید عناصری ابتدایی برای به اشتراک گذاری منطق دارای state فراهم کند.</p>

<p dir="rtl">با استفاده از هوک‌‌ها، شما می‌‌توانید بخش منطق دارای state را از یک کامپوننت استخراج کنید، بطوری که بطور مستقل بتواند مورد آزمایش و استفاده‌‌ی مجدد قرار گیرد. <strong>هوک ها به شما اجازه می‌‌دهند که بدون ایجاد تغییر در سلسله مراتب کامپوننت‌‌هایتان، از منطق دارای state مجددا استفاده نمایید.</strong> این کار باعث تسهیل در به اشتراک‌‌گذاری هوک‌‌ها بین کامپوننت‌‌های مختلف یا بین جامعه[ی ری‌‌اکت] می‌‌شود.</p>

<p dir="rtl">ما در این رابطه بیشتر در  <a href="/docs/hooks-custom.html">هوک مخصوص خود را بسازید</a> بحث خواهیم کرد.</p>

<h3 dir="rtl" id="complex-components-become-hard-to-understand"><a href="#complex-components-become-hard-to-understand" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>فهم کامپوننت‌‌های پیچیده دشوارتر می‌‌شود</h3>

<p dir="rtl">ما معمولا مجبور به نگه‌‌داری از کامپوننت‌‌هایی بودیم که در بدو شروع ساده بودند اما تبدیل به یک وضع آشفته‌‌ی غیرقابل مهار از منطق‌‌های دارای state و side effectها شدند. هر lifecycle متشکل از مخلوطی از منطق‌‌های غیر مرتبط است. برای مثال، یک کامپوننت ممکن است  در<code class="gatsby-code-text">componentDidMount</code> و <code class="gatsby-code-text">componentDidUpdate</code> به دریافت داده بپردازد. درحالی‌‌که همان تابع می‌‌تواند دارای منطقی غیر مرتبط باشد که به اضافه کردن event listenerها می‌‌پردازد، و در متد <code class="gatsby-code-text">componentWillUnmount</code> آن‌‌ها [event listenerها] را پاکسازی (cleanup) می‌‌کند. کدهایی که متقابلا به هم مرتبط هستند [مثل اضافه و پاک‌‌سازی event listener]  از یکدیگر جدا هستند، ولی کدهایی که کاملا غیر مرتبط‌‌اند [اضافه کردنevent listener و دریافت داده] در یک متد نوشته می‌‌شوند. که این  احتمال خطا و باگ  و ناسازگاری را بیشتر می‌‌کند. </p>

<p dir="rtl">در بسیاری از موارد امکان این وجود ندارد که بتوانیم این کامپوننت‌‌ها را به اجزای کوچکتر تقسیم کنیم، زیرا منطق دارای state در همه جا وجود دارد. همچنین تست کردن آن‌‌ها دشوار است. این یکی از دلایلی است که بسیاری از افراد ترجیح می‌‌دهند تا ری‌‌اکت را با یک کتابخانه‌‌ی مدیریت state دیگری ترکیب کنند. اگرچه، معمولا باعث اضافه‌‌شدن مقدار زیادی تجرید می‌‌شود و  شما را مجبور می‌‌کند بین تعداد زیادی از فایل‌‌ها جابه‌‌جا شوید که خود باعث مشکل‌‌تر شدن استفاده‌‌ی مجدد از کامپوننت‌‌ها می‌‌گردد.</p>

<p dir="rtl">برای حل این مسیله، <strong>هوک‌‌ها به شما اجازه می‌‌دهند یک کامپوننت را به توابع کوچکتری تقسیم کنید که مبنای آن ارتباط اجزایشان است (مثلا اضافه کردن یک اشتراک (subscription) یا دریافت داده)</strong>، نه تقسیم بر اساس متدهای lifecycle. همچنین می‌‌توانید برای  مدیریت state محلی از یک reducer کمک بگیرید تا بیشتر مطابق با پیش‌‌بینی شما باشد.</p>

<p dir="rtl">در این باره در
<a href="/docs/hooks-effect.html#tip-use-multiple-effects-to-separate-concerns">استفاده از Effect Hook</a>بیشتر بحث خواهیم کرد.</p>

<h3 dir="rtl" id="classes-confuse-both-people-and-machines"><a href="#classes-confuse-both-people-and-machines" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>کلاس‌‌ها هم انسان و هم کامپیوتر را گیج می‌‌کنند</h3>

<p dir="rtl">علاوه بر دشوار کردن قابلیت استفاده مجدد از کد و نظم آن، دریافتیم که کلاس‌‌ها می‌‌توانند مانع بزرگی در یادگیری ری‌‌اکت باشند. شما باید یادبگیرید که  <code class="gatsby-code-text">this</code> چگونه در جاوااسکریپت کار می‌‌کند، که با نحوه‌‌ی کار کردش در اکثر زبان‌‌ها بسیار متفاوت است. شما باید به یاد داشته باشید تا event handlerها را bind کنید. بدون <a href="https://babeljs.io/docs/en/babel-plugin-transform-class-properties/">syntax proposals</a>، کد بسیار طولانی خواهد بود. آدم‌‌ها می‌‌توانند props، state، و جریان بالا به پایین داده را کاملا دریابند ولی هنوز  با کلاس‌‌ها کلنجار بروند. برتری کامپوننت از جنس تابع یا کلاس در ری‌‌اکت و موارد استفاده از آن‌‌ها باعث اختلاف نظر است، حتی در میان دولوپرهای با تجربه‌‌ی ری‌‌اکت.</p>

<p dir="rtl">بعلاوه، ری‌‌اکت ۵ سال است که عرضه شده است، و ما می‌‌خواهیم در ۵ سال آینده مطرح باشد. همانطور که <a href="https://svelte.technology/">Svelte</a>، <a href="https://angular.io/">Angular</a>،<a href="https://glimmerjs.com/">Glimmer</a>و دیگران نشان می‌‌دهند، <a href="https://en.wikipedia.org/wiki/Ahead-of-time_compilation">کامپایل پیش از موعد</a> کامپوننت‌‌ها، پتانسیل قابلیت‌‌های زیادی را دارد. بالاخص اگر به تمپلت‌‌ها مححدود نباشد. ما اخیرا  با
<a href="https://github.com/facebook/react/issues/7323">component folding</a> بوسیله‌‌ی <a href="https://prepack.io/">Prepack</a>‌‌ ‌‌آزمایشاتی را انجام دادیم که شاهد نتایج  سریع و امیدوارکننده  بوده‌‌ایم. اگرچه دریافتیم که کامپوننت‌‌های کلاسی می‌‌توانند ناخواسته باعث افزایش الگوهایی  شوند که چنین بهینه‌‌سازی‌‌هایی را بدتر می‌‌کنند.  کلاس‌‌ها برای ابزارهای امروزی نیز مشکلاتی ایجاد می‌‌کنند. برای مثال، کلاس‌‌ها به خوبی کم‌‌حجم(minify) نمی‌‌شوند، آن‌‌ها باعث می‌‌شوند تا hot reloading شکننده و نامطمئن شود. ما می‌‌خواهیم APIای را ارائه دهیم که به کد امکان بهینه‌‌سازی بیشتری بدهد.</p>

<p dir="rtl">برای حل این مشکلات، <strong>هوک‌‌ها به شما اجازه می‌‌دهند تا از بیشتر قابلیت‌‌های ری‌‌اکت بدون کلاس‌‌ها بهره ببرید.</strong> مفهوما، همیشه کامپوننت‌‌های ری‌‌اکت بیشتر به توابع نزدیک‌‌تر بوده‌‌اند. هوک‌‌ها بدون آنکه روح کاربردی ری‌‌اکت را فداکند، توابع را شامل می‌‌شوند. هوک‌‌ها امکان دسترسی به راههای ‌‌فرار دستوری می‌‌دهند و شما را مجبور به یادگیری تکنیک‌‌های پیچیده‌‌ی توابع یا برنامه‌‌نویسی ری‌‌اکتیو نمی‌‌کند.</p>

<blockquote dir="rtl">
<p>مثال‌‌ها</p>
<p><a href="/docs/hooks-overview.html">نگاه اجمالی به هوک‌‌</a> نقطه‌‌ی شروع مناسبی برای یادگیری Hookهاست.</p>
</blockquote>

<h2 dir="rtl" id="gradual-adoption-strategy"><a href="#gradual-adoption-strategy" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>استراتژی تطبیق تدریجی</h2>

<blockquote dir="rtl">
<p><strong>خلاصه: هیچ برنامه‌‌ای برای حذف کلاس ها از ری‌‌اکت وجود ندارد.</strong></p>
</blockquote>

<p dir="rtl">ما می‌‌دانیم که دولوپرهای ری‌‌اکت بر روی عرضه‌‌ی محصولات تمرکز دارند و وقتی برای نگاه کردن و مطالعه‌‌ی هر  API جدیدی را که منتشر می‌‌شود، ندارند. هوک‌‌ها بسیار جدید هستند، و شاید برای یادگیری و بهره‌‌گیری از آن‌‌ها بهتر باشد تا برای مثال‌‌ها و آموزش‌‌های بیشتر صبر کنید.</p>

<p dir="rtl">همچنین اطلاع داریم که انتظارات برای اضافه کردن دستورات پایه‌‌ی جدید به ری‌‌اکت بسیار بالاست. ما برای خواننده‌‌های کنجکاو یک <a href="https://github.com/reactjs/rfcs/pull/68">RFC با جزییات</a> آماده کرده‌‌ایم که با عمق بیشتری به انگیزه‌‌ها می‌‌پردازد، و دید  بیشتری بر تصصمیمات جزیی تصمیم‌‌گیری‌‌ها و  تصمیمات مرتبط قبلی فراهم می‌‌کند.  </p>

<p dir="rtl"><strong>اساسا، هوک ها در کنار کدهای نوشته‌‌شده از قبل کار خواهند کرد، پس شما می‌‌توانید بصورت تدریجی از آن‌‌ها بهره گیرید.</strong> ما این API آزمایشی را برای این به اشتراک  می‌‌گذاریم تا بتوانیم از بازخوردهای سریع افراد در جامعه که برای شکل دادن به آینده‌‌ی ری‌‌اکت مشتاق هستند بهره گیریم. — and we will iterate on Hooks in the open.</p>

<p dir="rtl">در انتها، هیچ عجله‌‌ای برای مهاجرت به هوک‌‌ها وجود ندارد. ما پیشنهاد می‌‌کنیم از هرگونه «بازنویسی بزرگ» بپرهیزید، مخصوصا برای کامپوننت‌‌های کلاسی موجود و پیچیده. برای «تفکر مبتنی بر هوک‌‌ها» مقداری نیازمند تامل است.  تجربه‌‌ی ما این است که بهترین کار برای شروع، تمرین و کار با هوک‌‌ها در کامپوننت‌‌های جدید و غیرحیاتی است، و حصول اطمینان از اینکه همه‌‌ی افراد تیم شما با آن‌‌ها ارتباط برقرار کرده‌‌اند. بعد از اینکه هوک‌‌ها را امتحان کردید، لطفا <a href="https://github.com/facebook/react/issues/new">بازخوردهای خود را برای ما بفرستید</a> ، چه مثبت و چه منفی.</p>

<h2 dir="rtl" id="frequently-asked-questions"><a href="#frequently-asked-questions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>سوالات متداول </h2>

<p dir="rtl">ما یک <a href="/docs/hooks-faq.html">صفحه پرسش و پاسخ متداول از hookها</a> فراهم کرده ایم که  اکثر سوالات رایج در مورد هوک‌‌ها را پاسخ‌‌ می‌‌دهد.</p>